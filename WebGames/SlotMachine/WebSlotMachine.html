<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slot Machine</title>
    <link rel="stylesheet" href="slot-machine-style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="../../projects.html" class="back-btn" title="Back to Projects">← Back</a>
            <h1>🎰 Slot Machine 🎰</h1>
            <button id="nightModeToggle" class="night-mode-btn" title="Toggle Night Mode">🌙</button>
        </div>
        
        <div class="balance-wrapper">
            <div class="balance-display">
                <div class="balance-item">
                    <span class="balance-label">Credits:</span>
                    <span id="balance" class="balance-value">100</span>
                </div>
                <div class="balance-item">
                    <span class="balance-label">Bet:</span>
                    <span id="bet-amount" class="balance-value">10</span>
                </div>
                <div class="balance-item rebirth-progress">
                    <span class="balance-label">Next Rebirth:</span>
                    <button id="rebirth-progress" class="balance-value rebirth-btn" disabled>9,900</button>
                </div>
            </div>
            <div class="message-display" id="message-display">
                <span id="result-message">Good Luck!</span>
            </div>
        </div>
        <div class="slot-machine">
            <div class="slot-display-wrapper">
                <svg id="win-lines-svg" class="win-lines-overlay"></svg>
                <div class="slot-display">
                    <div class="reel" data-row="0" data-col="0"><div class="symbol">🍒</div></div>
                    <div class="reel" data-row="0" data-col="1"><div class="symbol">🍒</div></div>
                    <div class="reel" data-row="0" data-col="2"><div class="symbol">🍒</div></div>
                    <div class="reel" data-row="0" data-col="3"><div class="symbol">🍒</div></div>
                    
                    <div class="reel" data-row="1" data-col="0"><div class="symbol">🍒</div></div>
                    <div class="reel" data-row="1" data-col="1"><div class="symbol">🍒</div></div>
                    <div class="reel" data-row="1" data-col="2"><div class="symbol">🍒</div></div>
                    <div class="reel" data-row="1" data-col="3"><div class="symbol">🍒</div></div>
                </div>
            </div>
        </div>

        <div class="bet-controls">
            <h3>Adjust Bet (% of Credits)</h3>
            <div class="bet-buttons">
                <button class="bet-btn" data-bet-percent="10">10%</button>
                <button class="bet-btn active" data-bet-percent="25">25%</button>
                <button class="bet-btn" data-bet-percent="50">50%</button>
                <button class="bet-btn" data-bet-percent="75">75%</button>
                <button class="bet-btn" data-bet-percent="100">100%</button>
            </div>
        </div>

        <div class="game-controls">
            <button id="spin-btn" class="btn btn-spin">
                <span class="btn-text">SPIN</span>
                <span class="btn-cost">(-<span id="spin-cost">10</span>)</span>
            </button>
        </div>

        <!-- Paytable Drawer -->
        <div class="paytable">
            <button id="paytableToggle" class="paytable-toggle">
                💰 Paytable & Game Rules <span class="toggle-icon">▼</span>
            </button>
            <div id="paytableContent" class="paytable-content">
                <h3 style="margin-top: 0; text-align: center; color: #ffd700;">Symbol Payouts (Base Value)</h3>
                <div class="paytable-grid">
                    <div class="paytable-row">
                        <div class="paytable-symbols">🍒 🍒 🍒</div>
                        <div class="paytable-payout">×10</div>
                        <div class="paytable-rarity" style="color: #90ee90;">Common</div>
                    </div>
                    <div class="paytable-row">
                        <div class="paytable-symbols">🍋 🍋 🍋</div>
                        <div class="paytable-payout">×20</div>
                        <div class="paytable-rarity" style="color: #90ee90;">Common</div>
                    </div>
                    <div class="paytable-row">
                        <div class="paytable-symbols">🍊 🍊 🍊</div>
                        <div class="paytable-payout">×30</div>
                        <div class="paytable-rarity" style="color: #87ceeb;">Uncommon</div>
                    </div>
                    <div class="paytable-row">
                        <div class="paytable-symbols">🍇 🍇 🍇</div>
                        <div class="paytable-payout">×50</div>
                        <div class="paytable-rarity" style="color: #dda0dd;">Rare</div>
                    </div>
                    <div class="paytable-row">
                        <div class="paytable-symbols">💎 💎 💎</div>
                        <div class="paytable-payout">×100</div>
                        <div class="paytable-rarity" style="color: #ffa500;">Epic</div>
                    </div>
                    <div class="paytable-row">
                        <div class="paytable-symbols">🎰 🎰 🎰</div>
                        <div class="paytable-payout">×200</div>
                        <div class="paytable-rarity" style="color: #ff6b6b;">Legendary</div>
                    </div>
                    <div class="paytable-row">
                        <div class="paytable-symbols">7️⃣ 7️⃣ 7️⃣</div>
                        <div class="paytable-payout jackpot">×1000 JACKPOT!</div>
                        <div class="paytable-rarity" style="color: #ffd700; font-weight: bold;">Mythic</div>
                    </div>
                </div>
                
                <div style="margin-top: 20px; padding: 15px; background: rgba(255, 215, 0, 0.1); border-radius: 8px; border: 2px solid rgba(255, 215, 0, 0.3);">
                    <p class="paytable-note" style="margin: 5px 0;"><strong>🎯 How to Win:</strong></p>
                    <p class="paytable-note" style="margin: 5px 0;">Match 3 or more of the same symbol that are connected horizontally, vertically, or diagonally!</p>
                    <p class="paytable-note" style="margin: 5px 0; font-size: 0.9em; opacity: 0.9;">💡 Tip: Larger connected chains earn bigger bonuses!</p>
                </div>
                
                <div style="margin-top: 15px; padding: 15px; background: rgba(100, 149, 237, 0.1); border-radius: 8px; border: 2px solid rgba(100, 149, 237, 0.3);">
                    <p class="paytable-note" style="margin: 5px 0;"><strong>💰 Chain Size Multipliers:</strong></p>
                    <div style="display: grid; gap: 8px; margin-top: 10px;">
                        <div style="display: flex; justify-content: space-between; padding: 5px 10px; background: rgba(255, 215, 0, 0.15); border-radius: 5px;">
                            <span><strong>8+ cells:</strong></span>
                            <span style="color: #ffd700; font-weight: bold;">150% Payout</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 5px 10px; background: rgba(0, 255, 0, 0.1); border-radius: 5px;">
                            <span><strong>6-7 cells:</strong></span>
                            <span style="color: #90ee90; font-weight: bold;">120% Payout</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 5px 10px; background: rgba(100, 149, 237, 0.1); border-radius: 5px;">
                            <span><strong>5 cells:</strong></span>
                            <span style="color: #87ceeb; font-weight: bold;">100% Payout</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 5px 10px; background: rgba(255, 255, 255, 0.05); border-radius: 5px;">
                            <span><strong>4 cells:</strong></span>
                            <span style="color: #dda0dd;">60% Payout</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 5px 10px; background: rgba(255, 255, 255, 0.03); border-radius: 5px;">
                            <span><strong>3 cells:</strong></span>
                            <span style="opacity: 0.8;">40% Payout</span>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 15px; padding: 12px; background: rgba(255, 100, 100, 0.1); border-radius: 8px; border: 2px solid rgba(255, 100, 100, 0.3);">
                    <p class="paytable-note" style="margin: 5px 0;"><strong>📊 Example Calculation:</strong></p>
                    <p class="paytable-note" style="margin: 5px 0; font-size: 0.9em;">
                        If you bet <strong>100 credits</strong> and match <strong>6 connected 💎 symbols</strong>:<br>
                        <span style="opacity: 0.9;">Base: 100 × 100 = 10,000</span><br>
                        <span style="opacity: 0.9;">Chain Bonus (120%): 10,000 × 1.2 = </span><strong style="color: #ffd700;">12,000 credits won!</strong>
                    </p>
                </div>
            </div>
        </div>

        <!-- Number Reference Drawer -->
        <div class="number-reference">
            <button id="numberRefToggle" class="number-ref-toggle">
                📊 Number Abbreviations Reference <span class="toggle-icon">▼</span>
            </button>
            <div id="numberRefContent" class="number-ref-content">
                <div class="number-ref-grid">
                    <div class="number-ref-column">
                        <h4>Basic (10³⁻¹⁵)</h4>
                        <div class="number-ref-item"><span class="abbr">K</span> = Thousand (10³)</div>
                        <div class="number-ref-item"><span class="abbr">Mil</span> = Million (10⁶)</div>
                        <div class="number-ref-item"><span class="abbr">Bil</span> = Billion (10⁹)</div>
                        <div class="number-ref-item"><span class="abbr">Tri</span> = Trillion (10¹²)</div>
                        <div class="number-ref-item"><span class="abbr">Qua</span> = Quadrillion (10¹⁵)</div>
                    </div>
                    <div class="number-ref-column">
                        <h4>Mid (10¹⁸⁻³⁰)</h4>
                        <div class="number-ref-item"><span class="abbr">Qui</span> = Quintillion (10¹⁸)</div>
                        <div class="number-ref-item"><span class="abbr">Sex</span> = Sextillion (10²¹)</div>
                        <div class="number-ref-item"><span class="abbr">Sep</span> = Septillion (10²⁴)</div>
                        <div class="number-ref-item"><span class="abbr">Oct</span> = Octillion (10²⁷)</div>
                        <div class="number-ref-item"><span class="abbr">Non</span> = Nonillion (10³⁰)</div>
                    </div>
                    <div class="number-ref-column">
                        <h4>High (10³³⁻⁶³)</h4>
                        <div class="number-ref-item"><span class="abbr">Dec</span> = Decillion (10³³)</div>
                        <div class="number-ref-item"><span class="abbr">Und</span> = Undecillion (10³⁶)</div>
                        <div class="number-ref-item"><span class="abbr">Duo</span> = Duodecillion (10³⁹)</div>
                        <div class="number-ref-item"><span class="abbr">Tre</span> = Tredecillion (10⁴²)</div>
                        <div class="number-ref-item"><span class="abbr">Qtu</span> = Quattuordecillion (10⁴⁵)</div>
                        <div class="number-ref-item"><span class="abbr">Qin</span> = Quindecillion (10⁴⁸)</div>
                        <div class="number-ref-item"><span class="abbr">Sed</span> = Sexdecillion (10⁵¹)</div>
                        <div class="number-ref-item"><span class="abbr">Spd</span> = Septendecillion (10⁵⁴)</div>
                        <div class="number-ref-item"><span class="abbr">Ocd</span> = Octodecillion (10⁵⁷)</div>
                        <div class="number-ref-item"><span class="abbr">Nvd</span> = Novemdecillion (10⁶⁰)</div>
                        <div class="number-ref-item"><span class="abbr">Vig</span> = Vigintillion (10⁶³)</div>
                    </div>
                    <div class="number-ref-column">
                        <h4>Viginti Series (10⁶⁶⁻⁹⁰)</h4>
                        <div class="number-ref-item"><span class="abbr">Unv</span> = Unvigintillion (10⁶⁶)</div>
                        <div class="number-ref-item"><span class="abbr">Duv</span> = Duovigintillion (10⁶⁹)</div>
                        <div class="number-ref-item"><span class="abbr">Trv</span> = Tresvigintillion (10⁷²)</div>
                        <div class="number-ref-item"><span class="abbr">Qtv</span> = Quattuorvigintillion (10⁷⁵)</div>
                        <div class="number-ref-item"><span class="abbr">Qnv</span> = Quinvigintillion (10⁷⁸)</div>
                        <div class="number-ref-item"><span class="abbr">Ssv</span> = Sesvigintillion (10⁸¹)</div>
                        <div class="number-ref-item"><span class="abbr">Spv</span> = Septemvigintillion (10⁸⁴)</div>
                        <div class="number-ref-item"><span class="abbr">Ocv</span> = Octovigintillion (10⁸⁷)</div>
                        <div class="number-ref-item"><span class="abbr">Nvv</span> = Novemvigintillion (10⁹⁰)</div>
                    </div>
                    <div class="number-ref-column">
                        <h4>Triginti+ (10⁹³⁺)</h4>
                        <div class="number-ref-item"><span class="abbr">Trg</span> = Trigintillion (10⁹³)</div>
                        <div class="number-ref-item"><span class="abbr">Unt</span> = Untrigintillion (10⁹⁶)</div>
                        <div class="number-ref-item"><span class="abbr">Dut</span> = Duotrigintillion (10⁹⁹)</div>
                        <div class="number-ref-item"><span class="abbr">Trt</span> = Trestrigintillion (10¹⁰²)</div>
                        <div class="number-ref-item"><span class="abbr">Qtt</span> = Quattuortrigintillion (10¹⁰⁵)</div>
                        <div class="number-ref-item"><span class="abbr">Qnt</span> = Quintrigintillion (10¹⁰⁸)</div>
                        <div class="number-ref-item"><span class="abbr">Sst</span> = Sestrigintillion (10¹¹¹)</div>
                        <div class="number-ref-item"><span class="abbr">Spt</span> = Septentrigintillion (10¹¹⁴)</div>
                        <div class="number-ref-item"><span class="abbr">Oct</span> = Octotrigintillion (10¹¹⁷)</div>
                        <div class="number-ref-item"><span class="abbr">Nvt</span> = Noventrigintillion (10¹²⁰)</div>
                    </div>
                    <div class="number-ref-column">
                        <h4>Extreme (10¹²³⁺)</h4>
                        <div class="number-ref-item"><span class="abbr">Qda</span> = Quadragintillion (10¹²³)</div>
                        <div class="number-ref-item"><span class="abbr">Qqa</span> = Quinquagintillion (10¹⁵³)</div>
                        <div class="number-ref-item"><span class="abbr">Sxg</span> = Sexagintillion (10¹⁸³)</div>
                        <div class="number-ref-item"><span class="abbr">Spg</span> = Septuagintillion (10²¹³)</div>
                        <div class="number-ref-item"><span class="abbr">Ocg</span> = Octogintillion (10²⁴³)</div>
                        <div class="number-ref-item"><span class="abbr">Nog</span> = Nonagintillion (10²⁷³)</div>
                        <div class="number-ref-item"><span class="abbr">Cen</span> = Centillion (10³⁰³)</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Confirmation Modal -->
        <div id="confirmModal" class="modal-overlay">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>⚠️ ALL-IN WARNING ⚠️</h2>
                </div>
                <div class="modal-body">
                    <p class="modal-warning">You are about to bet <strong>ALL</strong> your credits!</p>
                    <p class="modal-subtext">If you lose, you will have to reset your balance.</p>
                    <p class="modal-question">Are you sure you want to go all-in?</p>
                </div>
                <div class="modal-buttons">
                    <button id="confirmYes" class="modal-btn modal-btn-yes">YES, ALL-IN!</button>
                    <button id="confirmNo" class="modal-btn modal-btn-no">NO, CANCEL</button>
                </div>
            </div>
        </div>

        <!-- Rebirth Modal -->
        <div id="rebirthModal" class="modal-overlay">
            <div class="modal-content rebirth-modal">
                <div class="modal-header">
                    <h2>🌟 REBIRTH AVAILABLE 🌟</h2>
                </div>
                <div class="modal-body">
                    <p class="modal-warning">You've reached <strong id="rebirth-threshold">0</strong> credits!</p>
                    <p class="modal-subtext">Choose to expand your slot machine:</p>
                    <div class="rebirth-options">
                        <button id="rebirthRow" class="rebirth-option">
                            <span class="rebirth-option-icon">⬇️</span>
                            <h3 class="rebirth-option-title">Add Row</h3>
                            <p class="rebirth-option-desc">Expand vertically</p>
                            <p class="rebirth-benefit">Current: <span id="current-rows">3</span> rows</p>
                            <p class="rebirth-benefit">New: <span id="new-rows">4</span> rows</p>
                        </button>
                        <button id="rebirthCol" class="rebirth-option">
                            <span class="rebirth-option-icon">➡️</span>
                            <h3 class="rebirth-option-title">Add Column</h3>
                            <p class="rebirth-option-desc">Expand horizontally</p>
                            <p class="rebirth-benefit">Current: <span id="current-cols">5</span> columns</p>
                            <p class="rebirth-benefit">New: <span id="new-cols">6</span> columns</p>
                        </button>
                    </div>
                    <p class="modal-question">Your balance will reset to 100, but you keep the expansion!</p>
                </div>
                <div class="modal-buttons">
                    <button id="rebirthCancel" class="modal-btn modal-btn-no">Not Yet</button>
                </div>
            </div>
        </div>

        <!-- Game Over Modal -->
        <div id="gameOverModal" class="modal-overlay">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>💀 GAME OVER 💀</h2>
                </div>
                <div class="modal-body">
                    <p class="modal-warning" style="font-size: 1.4em;">You went ALL-IN and LOST!</p>
                    <p class="modal-subtext">You have no credits left to continue playing.</p>
                    <p class="modal-question">Start a new game to play again.</p>
                </div>
                <div class="modal-buttons">
                    <button id="gameOverNewGame" class="modal-btn modal-btn-yes">🎰 START NEW GAME</button>
                </div>
            </div>
        </div>

        <!-- Wipe Progress Modal (First Warning) -->
        <div id="wipeModal1" class="modal-overlay">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>⚠️ WIPE PROGRESS WARNING ⚠️</h2>
                </div>
                <div class="modal-body">
                    <p class="modal-warning">This will PERMANENTLY delete:</p>
                    <p class="modal-subtext">• All credits<br>• All statistics<br>• Grid expansions (back to 2×4)<br>• Rebirth progress</p>
                    <p class="modal-question" style="color: #ff3333; font-weight: bold;">This action CANNOT be undone!</p>
                    <p class="modal-subtext">Are you absolutely sure?</p>
                </div>
                <div class="modal-buttons">
                    <button id="wipeYes1" class="modal-btn modal-btn-yes">YES, CONTINUE</button>
                    <button id="wipeNo1" class="modal-btn modal-btn-no">NO, CANCEL</button>
                </div>
            </div>
        </div>

        <!-- Wipe Progress Modal (Final Confirmation) -->
        <div id="wipeModal2" class="modal-overlay">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>🚨 FINAL WARNING 🚨</h2>
                </div>
                <div class="modal-body">
                    <p class="modal-warning" style="font-size: 1.3em;">LAST CHANCE!</p>
                    <p class="modal-question" style="color: #ff3333; font-weight: bold; font-size: 1.1em;">Are you REALLY sure you want to wipe everything and start over?</p>
                    <p class="modal-subtext">Everything will be lost forever!</p>
                </div>
                <div class="modal-buttons">
                    <button id="wipeYes2" class="modal-btn modal-btn-yes">YES, WIPE EVERYTHING!</button>
                    <button id="wipeNo2" class="modal-btn modal-btn-no">NO, KEEP MY PROGRESS</button>
                </div>
            </div>
        </div>

        <div class="stats">
            <h3>ðŸ“Š Statistics</h3>
            <div class="stats-grid">
                <div class="stat-item">
                    <span class="stat-label">Total Spins:</span>
                    <span id="total-spins">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Total Won:</span>
                    <span id="total-won">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Biggest Win:</span>
                    <span id="biggest-win">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Grid Size:</span>
                    <span id="grid-size">3×5</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Rebirths:</span>
                    <span id="rebirth-count">0</span>
                </div>
            </div>
        </div>

        <div class="danger-zone">
            <button id="wipe-btn" class="btn btn-danger">🗑️ Wipe All Progress</button>
        </div>
    </div>

    <script src="slot-machine-script.js"></script>
</body>
</html>
